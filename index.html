<!DOCTYPE html>
<html>
<head>
<script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
</head>

<body>

<h2>Add Parameter</h2>

Name:
<input id="name"><br>

Register:
<input id="reg"><br>

<button onclick="send()">Configure</button>

<h2>Values</h2>
<div id="values"></div>

<script>
const client=mqtt.connect(
"wss://9623f16bf00e4cc69f0010261f43bf86.s1.eu.hivemq.cloud:8884/mqtt",
{
 username:"RITESH",
 password:"Ritesh@123"
});

client.on("connect",()=>{
 client.subscribe("data/#");
});

function send(){
 let n=document.getElementById("name").value;
 let r=document.getElementById("reg").value;

 client.publish("config/"+n,r);
}

client.on("message",(t,m)=>{
 let p=t.split("/")[1];
 document.getElementById("values").innerHTML+=
 "<p>"+p+" = "+m.toString()+"</p>";
});
</script>

</body>
</html>
